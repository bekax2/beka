# beka
Ai
<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ë–µ–∫–∞ ‚Äî IT & –°–µ—Ç—å ‚Äî 2000 ‚Ç∏ ‚Äî —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º</title>
<meta name="description" content="–ë–µ–∫–∞ ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Wi-Fi, —Ä–æ—É—Ç–µ—Ä–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏ –∏ –ø—Ä–æ—Å—Ç—ã–µ —Å–∞–π—Ç—ã. –¶–µ–Ω–∞ 2000 ‚Ç∏. –ß–∞—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –∏ –∑–∞–∫–∞–∑–∞—Ç—å —É—Å–ª—É–≥—É. –¢–µ–ª: +7 775 502 6706" />
<style>
  :root{
    --bg:#071025;
    --card:#0b1220;
    --accent1:#2dd4bf;
    --accent2:#60a5fa;
    --muted:#94a3b8;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    --shadow: 0 8px 30px rgba(2,6,23,0.6);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  body{margin:0;min-height:100vh;background:linear-gradient(180deg,#071025 0%, #0b1220 100%);color:#e6eef8;padding-bottom:120px}
  .wrap{max-width:980px;margin:28px auto;padding:20px}
  header{display:flex;gap:12px;align-items:center;justify-content:space-between}
  .brand{display:flex;gap:12px;align-items:center}
  /* LOGO: inline SVG container */
  .logo-wrap{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow);background:linear-gradient(135deg,var(--accent1),var(--accent2));}
  h1{margin:0;font-size:20px}
  header p{margin:0;color:var(--muted);font-size:13px}

  .top-actions{display:flex;gap:8px;align-items:center}
  .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:10px;background:var(--glass);color:var(--accent1);text-decoration:none;font-weight:600;border:1px solid rgba(255,255,255,0.03)}
  .btn.call{background:linear-gradient(90deg, rgba(45,212,191,0.12), rgba(96,165,250,0.06)); color:var(--accent1)}
  .hero{margin-top:18px;padding:20px;border-radius:var(--radius);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:var(--shadow);display:grid;gap:16px}

  /* cards and services */
  .services{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:18px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .price{font-weight:800;color:var(--accent1);font-size:18px}
  footer{margin-top:22px;padding:14px;border-radius:12px;background:rgba(255,255,255,0.01);display:flex;justify-content:space-between;align-items:center;color:var(--muted)}

  /* CONTACT & CTA */
  .sticky-cta{position:fixed;right:16px;bottom:18px;display:flex;flex-direction:column;gap:8px;z-index:999}
  .circle{width:58px;height:58px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#02111a;background:linear-gradient(135deg,var(--accent1),var(--accent2));box-shadow:0 10px 30px rgba(32,50,70,0.35);text-decoration:none}
  .circle.call{background:linear-gradient(135deg,#34D399,#10B981)}
  .circle.msg{background:linear-gradient(135deg,#60A5FA,#3B82F6)}

  /* ===== AI CHAT WIDGET ===== */
  .chat-widget{
    position:fixed;
    right:16px;
    bottom:96px;
    width:340px;
    max-width:92vw;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    box-shadow:0 20px 50px rgba(2,6,23,0.6);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    z-index:1000;
  }
  .chat-header{display:flex;align-items:center;gap:10px;padding:12px;border-bottom:1px solid rgba(255,255,255,0.02)}
  .chat-title{font-weight:700}
  .chat-sub{font-size:12px;color:var(--muted)}
  .chat-body{padding:12px;display:flex;flex-direction:column;gap:8px;max-height:320px;overflow:auto}
  .msg{max-width:82%;padding:8px 10px;border-radius:10px;font-size:13px}
  .msg.user{margin-left:auto;background:linear-gradient(90deg, rgba(96,165,250,0.12), rgba(45,212,191,0.06));color:#012}
  .msg.assistant{background:rgba(255,255,255,0.02);color:var(--muted)}
  .chat-input{display:flex;padding:10px;border-top:1px solid rgba(255,255,255,0.02);gap:8px}
  .chat-input textarea{flex:1;border-radius:10px;padding:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;resize:none;height:44px}
  .chat-input button{padding:8px 12px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#02111a;font-weight:700;cursor:pointer}

  .chat-footer{padding:8px 12px;border-top:1px dashed rgba(255,255,255,0.02);font-size:12px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
  .mode-pill{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:999px;font-size:12px;color:var(--muted)}

  /* small responsive */
  @media(max-width:420px){
    .chat-widget{right:8px;left:8px;width:auto;bottom:88px}
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <!-- INLINE SVG LOGO: –±—É–∫–≤–∞ '–ë' + Wi-Fi —Å–∏–º–≤–æ–ª -->
      <div class="logo-wrap" aria-hidden="true">
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#2DD4BF"/>
              <stop offset="1" stop-color="#60A5FA"/>
            </linearGradient>
          </defs>
          <rect x="0" y="0" width="48" height="48" rx="10" fill="url(#g1)"/>
          <!-- Wi-Fi arcs -->
          <path d="M14 22c3-3 7-4.5 12-4.5" stroke="rgba(255,255,255,0.85)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M18 26c1.7-1.7 4-2.55 7-2.55" stroke="rgba(255,255,255,0.85)" stroke-width="1.6" stroke-linecap="round" />
          <circle cx="24" cy="33" r="2.8" fill="#02111a"/>
          <!-- Letter B (stylized) -->
          <text x="24" y="16" font-size="14" text-anchor="middle" fill="#02111a" font-weight="800" font-family="Inter, Arial">–ë</text>
        </svg>
      </div>

      <div>
        <h1>–ë–µ–∫–∞ ‚Äî IT & –°–µ—Ç—å (—Ñ—Ä–∏–ª–∞–Ω—Å)</h1>
        <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Wi-Fi, —Ä–æ—É—Ç–µ—Ä—ã, —Å–∞–π—Ç—ã ‚Äî 2000 ‚Ç∏ | –¢–µ–ª: +7 775 502 6706</p>
      </div>
    </div>

    <div class="top-actions">
      <a class="btn call" href="tel:+77755026706">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
      <a class="btn" href="https://wa.me/77755026706" target="_blank" rel="noreferrer">WhatsApp</a>
    </div>
  </header>

  <!-- main hero / services (—É—Å–ª—É–≥ —á–∞—Å—Ç—å) -->
  <main class="hero" role="main">
    <div>
      <span style="display:inline-block;padding:8px 10px;border-radius:999px;background:rgba(255,255,255,0.03);color:var(--accent1);font-weight:700">–¶–µ–Ω–∞: 2000 ‚Ç∏</span>
      <h2 style="margin-top:10px">–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å–µ—Ç–µ–π, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏ –ø—Ä–æ—Å—Ç—ã–µ —Å–∞–π—Ç—ã</h2>
      <p style="color:var(--muted)">–Ø –ë–µ–∫–∞ ‚Äî –Ω–∞ —Å–≤—è–∑–∏. –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –≤—ã–µ–∑–¥, —É–¥–∞–ª—ë–Ω–Ω–∞—è –ø–æ–º–æ—â—å –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –ª–µ–Ω–¥–∏–Ω–≥-—Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤ —á–∞—Ç–µ.</p>

      <div style="margin-top:12px;display:flex;gap:8px">
        <a class="btn call" href="tel:+77755026706">–ü–æ–∑–≤–æ–Ω–∏—Ç—å: +7 775 502 6706</a>
        <a class="btn" href="https://wa.me/77755026706?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ%2C%20—è%20—Ö–æ—á—É%20–∑–∞–∫–∞–∑–∞—Ç—å%20—É—Å–ª—É–≥—É" target="_blank">–ù–∞–ø–∏—Å–∞—Ç—å WhatsApp</a>
      </div>
    </div>

    <aside class="card" aria-labelledby="about-title">
      <h3 id="about-title">–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞—Ç—å –º–µ–Ω—è</h3>
      <p style="color:var(--muted)">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ 2000 ‚Ç∏, –±—ã—Å—Ç—Ä–æ, –≥–∞—Ä–∞–Ω—Ç–∏—è 3 –¥–Ω—è. –¢–∞–∫–∂–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚Äî –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–æ —Å–µ—Ç—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞ –∏ —Å–∞–π—Ç, –æ–Ω –ø–æ–¥—Å–∫–∞–∂–µ—Ç –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç —á–µ–∫–ª–∏—Å—Ç.</p>
      <p style="margin-top:12px" class="price">2000 ‚Ç∏ ‚Äî –±–∞–∑–æ–≤–∞—è —É—Å–ª—É–≥–∞</p>
    </aside>
  </main>

  <section class="services" aria-label="–£—Å–ª—É–≥–∏">
    <div class="card"><h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Wi-Fi</h3><p style="color:var(--muted)">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è, –ø–æ–¥–±–æ—Ä –∫–∞–Ω–∞–ª–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏ ‚Äî 2000 ‚Ç∏</p></div>
    <div class="card"><h3>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞</h3><p style="color:var(--muted)">–°–±–æ—Ä–∫–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –ø–∞—Ä–æ–ª—å, –≥–æ—Å—Ç–µ–≤–∞—è —Å–µ—Ç—å ‚Äî 2000 ‚Ç∏</p></div>
    <div class="card"><h3>–°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞</h3><p style="color:var(--muted)">–õ–µ–Ω–¥–∏–Ω–≥ –∏–ª–∏ –≤–∏–∑–∏—Ç–∫–∞ (HTML/Tilda) ‚Äî 2000 ‚Ç∏</p></div>
    <div class="card"><h3>–£–¥–∞–ª—ë–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h3><p style="color:var(--muted)">–ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∏ —Ä–µ—à–∞—é –ø—Ä–æ–±–ª–µ–º—ã —É–¥–∞–ª—ë–Ω–Ω–æ ‚Äî 2000 ‚Ç∏</p></div>
  </section>

  <section class="card" id="contact" style="margin-top:18px">
    <h3>–ó–∞–∫–∞–∑</h3>
    <p style="color:var(--muted)">–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É ‚Äî —è —Å–≤—è–∂—É—Å—å. –ò–ª–∏ –∑–∞–∫–∞–∂–∏ —á–µ—Ä–µ–∑ —á–∞—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.</p>
    <form id="orderForm" onsubmit="return submitOrder(event)">
      <label style="font-size:13px;color:var(--muted)">–ò–º—è</label>
      <input id="o_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–π–¥–∞—Ä" style="width:100%;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit;margin-top:6px" />
      <label style="font-size:13px;color:var(--muted);margin-top:8px">–¢–µ–ª–µ—Ñ–æ–Ω</label>
      <input id="o_phone" placeholder="+7 7XX XXX XXXX" style="width:100%;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit;margin-top:6px" />
      <div style="margin-top:10px;display:flex;gap:8px">
        <button class="big-cta" style="padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#02111a;font-weight:700;cursor:pointer">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp</button>
        <a class="btn" href="tel:+77755026706">–ü–æ–∑–≤–æ–Ω–∏—Ç—å —Å–µ–π—á–∞—Å</a>
      </div>
    </form>
  </section>

  <footer>
    <div>
      <div style="font-size:13px">¬© <strong>–ë–µ–∫–∞</strong> ‚Äî IT & –°–µ—Ç—å. –¢–µ–ª: +7 775 502 6706</div>
      <div style="font-size:12px;color:var(--muted)">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞: 2000 ‚Ç∏. –†–∞–±–æ—Ç–∞—é —á–µ—Å—Ç–Ω–æ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è 3 –¥–Ω—è.</div>
    </div>
    <div style="font-size:12px;color:var(--muted)">–°–¥–µ–ª–∞–Ω–æ —Å –∑–∞–±–æ—Ç–æ–π ‚ú® + –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫</div>
  </footer>
</div>

<!-- CTA buttons -->
<div class="sticky-cta" aria-hidden="true">
  <a class="circle call" href="tel:+77755026706" title="–ü–æ–∑–≤–æ–Ω–∏—Ç—å –ë–µ–∫–µ">üìû</a>
  <a class="circle msg" href="https://wa.me/77755026706" target="_blank" rel="noreferrer" title="WhatsApp">üí¨</a>
</div>

<!-- ===== CHAT WIDGET ===== -->
<div id="chatWidget" class="chat-widget" role="dialog" aria-label="AI –ø–æ–º–æ—â–Ω–∏–∫">
  <div class="chat-header">
    <div style="display:flex;flex-direction:column">
      <div class="chat-title">–ë–µ–∫–∞ AI ‚Äî –ü–æ–º–æ—â–Ω–∏–∫</div>
      <div class="chat-sub">–ë—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–µ—Ç–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ —Å–∞–π—Ç–∞–º</div>
    </div>
    <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
      <div id="aiMode" class="mode-pill">–†–µ–∂–∏–º: <strong id="modeLabel">–õ–æ–∫–∞–ª—å–Ω—ã–π</strong></div>
      <button id="toggleChat" title="–°–≤–µ—Ä–Ω—É—Ç—å" style="background:transparent;border:none;color:var(--muted);cursor:pointer">‚Äî</button>
    </div>
  </div>

  <div id="chatBody" class="chat-body" aria-live="polite">
    <!-- —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —Å—é–¥–∞ -->
    <div class="msg assistant">–ü—Ä–∏–≤–µ—Ç! –Ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ë–µ–∫–∏. –ú–æ–≥—É –ø–æ–º–æ—á—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Wi-Fi, –≤—ã–±—Ä–∞—Ç—å —Ä–æ—É—Ç–µ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –≤—ã–µ–∑–¥–∞. –ù–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å ‚Äî —è –æ—Ç–≤–µ—á—É.</div>
  </div>

  <div class="chat-input">
    <textarea id="chatInput" placeholder="–ù–∞–ø–∏—à–∏ –≤–æ–ø—Ä–æ—Å..." maxlength="800"></textarea>
    <button id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>

  <div class="chat-footer">
    <div class="mode-pill">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: <span id="connectStatus">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span></div>
    <div style="display:flex;gap:8px">
      <button id="connectBtn" class="mode-pill" style="cursor:pointer">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ò–ò</button>
      <button id="clearBtn" class="mode-pill" style="cursor:pointer">–û—á–∏—Å—Ç–∏—Ç—å</button>
    </div>
  </div>
</div>

<script>
  /* ===== Basic site JS (form -> WhatsApp) ===== */
  function submitOrder(e){
    e.preventDefault();
    const name = document.getElementById('o_name').value || "–ù–µ —É–∫–∞–∑–∞–Ω";
    const phone = document.getElementById('o_phone').value || "–ù–µ —É–∫–∞–∑–∞–Ω";
    const message = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–µ–Ω—è –∑–æ–≤—É—Ç ${name}. –Ø —Ö–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å —É—Å–ª—É–≥—É. –¢–µ–ª: ${phone}. –¶–µ–Ω–∞ 2000 —Ç–≥.`;
    const wa = `https://wa.me/77755026706?text=${encodeURIComponent(message)}`;
    window.open(wa,'_blank');
    return false;
  }

  /* ===== Chat widget logic ===== */
  const chatBody = document.getElementById('chatBody');
  const chatInput = document.getElementById('chatInput');
  const sendBtn = document.getElementById('sendBtn');
  const connectBtn = document.getElementById('connectBtn');
  const clearBtn = document.getElementById('clearBtn');
  const connectStatus = document.getElementById('connectStatus');
  const modeLabel = document.getElementById('modeLabel');
  const aiModeState = { connected: false, endpoint: '', type: 'local' }; // type: 'local' | 'remote'

  // Add message to chat
  function addMessage(text, who='assistant'){
    const d = document.createElement('div');
    d.className = 'msg ' + (who==='user' ? 'user' : 'assistant');
    d.textContent = text;
    chatBody.appendChild(d);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  // Simple local fallback AI (deterministic helpers)
  function localAIReply(prompt){
    // very small rule-based helper: looks for keywords and returns helpful checklists
    const q = prompt.toLowerCase();
    if(q.includes('wifi') || q.includes('wi-fi') || q.includes('—Ä–æ—É—Ç')) {
      return "–ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi:\n‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å –ø–∏—Ç–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞\n‚Ä¢ –ü–æ–¥–∫–ª—é—á–∏ WAN –∫–∞–±–µ–ª—å –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É\n‚Ä¢ –í –ø–∞–Ω–µ–ª–∏ —Ä–æ—É—Ç–µ—Ä–∞: –æ–±–Ω–æ–≤–∏ –∫–∞–Ω–∞–ª (auto –∏–ª–∏ 1/6/11) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ WPA2 –ø–∞—Ä–æ–ª—å\n‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π –≥–æ—Å—Ç–µ–≤—É—é —Å–µ—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ\n‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∑–æ–Ω—É –ø–æ–∫—Ä—ã—Ç–∏—è\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –ø—Ä–∏—à–ª—é —Ç–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã/—Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –º–æ–¥–µ–ª–∏ —Ä–æ—É—Ç–µ—Ä–∞. –¶–µ–Ω–∞ –±–∞–∑–æ–≤–æ–π —É—Å–ª—É–≥–∏: 2000 ‚Ç∏.";
    }
    if(q.includes('—Å–∞–π—Ç') || q.includes('–ª–µ–Ω–¥–∏–Ω–≥') || q.includes('tilda')) {
      return "–ï—Å–ª–∏ –¥–µ–ª–∞—Ç—å –ª–µ–Ω–¥–∏–Ω–≥: –Ω—É–∂–Ω–æ:\n1) –£—Ç–æ—á–Ω–∏—Ç—å —Ü–µ–ª—å (–≤–∏–∑–∏—Ç–∫–∞/—É—Å–ª—É–≥–∞)\n2) –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –∏ 3 —Ñ–æ—Ç–æ\n3) –í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç–∞/–ª—ç–Ω–¥–∏–Ω–≥ –±–ª–æ–∫–∏\n4) –Ø —Å–¥–µ–ª–∞—é –∑–∞ 2000 ‚Ç∏. –ú–æ–≥—É —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å HTML –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞ Tilda.";
    }
    if(q.includes('—Ü–µ–Ω–∞') || q.includes('—Å–∫–æ–ª—å–∫–æ')) {
      return "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –±–∞–∑–æ–≤–æ–π —É—Å–ª—É–≥–∏ ‚Äî 2000 ‚Ç∏. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ—É—Ç–µ—Ä–æ–≤, –ø–æ–ª–Ω—ã–π —Å–∞–π—Ç —Å –æ–ø–ª–∞—Ç–æ–π) ‚Äî –æ–±—Å—É–¥–∏–º —Ü–µ–Ω—É –æ—Ç–¥–µ–ª—å–Ω–æ.";
    }
    // default fallback
    return "–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –Ø –º–æ–≥—É:\n‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏\n‚Ä¢ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n‚Ä¢ –ü–æ–¥—Å–∫–∞–∑–∞—Ç—å, –∫–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç\n–ù–∞–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ.";
  }

  // send message (will try remote if connected, otherwise local)
  async function sendMessage(){
    const text = chatInput.value.trim();
    if(!text) return;
    addMessage(text, 'user');
    chatInput.value = '';
    addMessage('...', 'assistant'); // placeholder
    // if connected to remote endpoint => send there
    if(aiModeState.connected && aiModeState.endpoint){
      try {
        const msgEl = Array.from(chatBody.querySelectorAll('.msg.assistant')).pop();
        const resp = await sendToRemoteAI(text);
        msgEl.textContent = resp;
      } catch(err){
        const msgEl = Array.from(chatBody.querySelectorAll('.msg.assistant')).pop();
        msgEl.textContent = "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ò–ò: " + err.message + ". –ò—Å–ø–æ–ª—å–∑—É—é –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫.";
        const fallback = localAIReply(text);
        addMessage(fallback, 'assistant');
      }
    } else {
      // local fallback
      const msgEl = Array.from(chatBody.querySelectorAll('.msg.assistant')).pop();
      msgEl.textContent = localAIReply(text);
    }
  }

  sendBtn.addEventListener('click', sendMessage);
  chatInput.addEventListener('keydown', function(e){ if(e.key === 'Enter' && !e.shiftKey){ e.preventDefault(); sendMessage(); } });

  clearBtn.addEventListener('click', ()=> {
    chatBody.innerHTML = '';
    addMessage('–ü—Ä–∏–≤–µ—Ç! –Ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ë–µ–∫–∏. –ú–æ–≥—É –ø–æ–º–æ—á—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Wi-Fi, –≤—ã–±—Ä–∞—Ç—å —Ä–æ—É—Ç–µ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –≤—ã–µ–∑–¥–∞. –ù–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å ‚Äî —è –æ—Ç–≤–µ—á—É.');
  });

  // Toggle connect: prompts user for endpoint (simple)
  connectBtn.addEventListener('click', async ()=>{
    if(!aiModeState.connected){
      // Ask for endpoint ‚Äî user can put a server URL that proxies requests to OpenAI (recommended)
      const ep = prompt("–í—Å—Ç–∞–≤—å URL —Å–µ—Ä–≤–µ—Ä–∞-–ø—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä https://my-proxy.example.com/api/chat). –ù–ï –≤—Å—Ç–∞–≤–ª—è–π API-–∫–ª—é—á —Å—é–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä.", "");
      if(!ep) return;
      aiModeState.endpoint = ep;
      aiModeState.connected = true;
      aiModeState.type = 'remote';
      modeLabel.textContent = 'Remote';
      connectStatus.textContent = '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ';
      connectBtn.textContent = '–û—Ç–∫–ª—é—á–∏—Ç—å';
      addMessage("–ü–æ–¥–∫–ª—é—á–µ–Ω —É–¥–∞–ª—ë–Ω–Ω—ã–π AI: –æ—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç —á–µ—Ä–µ–∑ –≤–∞—à —Å–µ—Ä–≤–µ—Ä. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Äî –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º.", 'assistant');
    } else {
      aiModeState.connected = false;
      aiModeState.endpoint = '';
      aiModeState.type = 'local';
      modeLabel.textContent = '–õ–æ–∫–∞–ª—å–Ω—ã–π';
      connectStatus.textContent = '–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ';
      connectBtn.textContent = '–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ò–ò';
      addMessage("–û—Ç–∫–ª—é—á—ë–Ω —É–¥–∞–ª—ë–Ω–Ω—ã–π AI. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º.", 'assistant');
    }
  });

  // sendToRemoteAI: POST to user provided endpoint, expects JSON { prompt: "..."} and returns { reply: "..." }
  async function sendToRemoteAI(prompt){
    if(!aiModeState.endpoint) throw new Error("–ù–µ—Ç endpoint'–∞");
    const res = await fetch(aiModeState.endpoint, {
      method:'POST',
      headers:{ 'Content-Type':'application/json' },
      body: JSON.stringify({ prompt })
    });
    if(!res.ok) {
      const text = await res.text();
      throw new Error('HTTP ' + res.status + ': ' + text);
    }
    const data = await res.json();
    if(data && data.reply) return data.reply;
    if(typeof data === 'string') return data;
    throw new Error('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞');
  }

  // small UI: minimize chat
  document.getElementById('toggleChat').addEventListener('click', function(){
    const widget = document.getElementById('chatWidget');
    if(widget.style.height && widget.style.height !== '') {
      widget.style.height = '';
      this.textContent = '‚Äî';
      document.getElementById('chatBody').style.display = 'flex';
      document.querySelector('.chat-input').style.display = 'flex';
      document.querySelector('.chat-footer').style.display = 'flex';
    } else {
      widget.style.height = '46px';
      this.textContent = '+';
      document.getElementById('chatBody').style.display = 'none';
      document.querySelector('.chat-input').style.display = 'none';
      document.querySelector('.chat-footer').style.display = 'none';
    }
  });

  // initial small note
  connectStatus.textContent = '–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ (–ª–æ–∫–∞–ª—å–Ω–æ)';
</script>

</body>
</html>
